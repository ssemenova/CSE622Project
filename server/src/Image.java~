import org.opencv.core.Core;
import org.opencv.core.Mat;
import org.opencv.core.MatOfKeyPoint;
import org.opencv.core.CvType;
import org.opencv.core.Scalar;
import org.opencv.features2d.ORB;
import org.opencv.imgproc.Imgproc;
import org.opencv.core.Point;
import org.opencv.core.Size;
import org.opencv.imgcodecs.Imgcodecs;
import org.opencv.features2d.Features2d;
import org.opencv.highgui.HighGui;

import java.awt.image.BufferedImage;
import java.awt.image.DataBufferByte;
import java.io.IOException;
import java.io.File;
import javax.imageio.ImageIO;

class Image{    
    //    static{ System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }

    MatOfKeyPoint keypoints;
    Mat descriptors;

    public Image(String filename) {
	Mat imageMatrix = Imgcodecs.imread(filename);
	getORBDataForImage(imageMatrix);
    }
    
    public Image(MatOfKeyPoint keypoints, Mat descriptors) {
	this.keypoints = keypoints;
	this.descriptors = descriptors;
    }

    public void getORBDataForImage(Mat imageMatrix) {
	ORB orb = ORB.create();
        this.keypoints = new MatOfKeyPoint();
        this.descriptors = new Mat();
	orb.detectAndCompute(imageMatrix, new Mat(), keypoints, descriptors);
    }
}
